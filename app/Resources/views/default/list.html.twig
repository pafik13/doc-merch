{% extends 'default.html.twig' %}

{% block title %}Представители{% endblock %}

{% set page = 2 %}

{% block main %}
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header"> Список представителей </h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">Список представителей</div>
				<div class="panel-body">
					<div class="table-responsive"><table class="table">
						<thead><tr><th>#</th><th>Имя пользователя</th><th>Полное имя (ФИО)</th><th>E-mail</th><th>Пол</th><th>Дата рождения</th><th>Место работы</th><th>Действия</th></tr></thead>
						<tbody>
							{% if entities|length > 0 %}
							{% for user in entities %}
								<tr><td>{{ loop.index }}</td><td>{{ user.username }}</td><td>{{ user.fullname == NULL ? 'Не указано' : user.fullname }}</td><td>{{ user.email }}</td><td>{% if user.gender == 1 %}Женский{% elseif user.gender == 0 %}Мужской{% else %}Не указан{% endif %}</td><td>{{ user.birthday == NULL ? 'Не указана' : user.birthday|date("d/m/Y") }}</td><td>{{ user.job == NULL ? 'Не указано' : user.job }}</td><td><a href="presenters/{{ user.id }}">Редактировать</a></td></tr>
							{% endfor %}
							{% else %}
								<tr><td colspan="7" style="text-align: center;">В базе нет ни одного представителя. Вы можете добавить нового представителя, нажав на кнопку "Добавить представителя" ниже.</td></tr>
							{% endif %}
						</tbody>
					</table></div>
					<a class="btn btn-default btn-lg btn-block" href="presenters/add">Добавить представителя</a>
				</div>
			</div>
        </div>
        <!-- /.col-lg-12 -->
    </div>
	<!-- /.row -->
{% endblock %}